<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>새 연락처</title>
</head>
<body>
  <form>
    이름*: <input name="name" type="text"><br>
    이메일*: <input name="email" type="text"><br>
    전화번호: <input name="tel" type="text"><br>
    회사: <input name="company" type="text"><br>
    * 표시 항목은 필수 입력 항목입니다<br>
    <button class="add-btn" type="button">추가</button>
    <button class="cancel-btn" type="button">취소</button>
  </form>

  <script>
    var xName = document.querySelector("input[name=name]")
    var xEmail = document.querySelector("input[name=email]")
    var xTel = document.querySelector("input[name=tel]")
    var xCompany = document.querySelector("input[name=company]")

    document.querySelector(".add-btn").addEventListener("click", function(e){
      if (xName.value == "" || xEmail.value == "") {
        alert("필수 입력 항목이 비었습니다")
        return
      }
      fetch(`/contact/add?name=${xName.value}&email=${xEmail.value}&tel=${xTel.value}&company=${xCompany.value}`)
      .then(function(){
        location.href = "index.html"
      })
    })

    document.querySelector(".cancel-btn").addEventListener("click", function(e) {
      location.href = "index.html"
    })
  </script>
</body>
</html>